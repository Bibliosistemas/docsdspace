(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{277:function(e,a,r){"use strict";r.r(a);var s=r(13),o=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"desarrollo-usando-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#desarrollo-usando-docker"}},[e._v("#")]),e._v(" Desarrollo usando docker")]),e._v(" "),a("p",[e._v("Para acelerar el desarrollo es posible utilizar un contenedor docker para realizar la instalación de paquetes y arrancar el servidor de desarrollo.\nSe usa la misma imagen base de DSpace (node:14-alpine) la cual es muy pequeña y tiene todo lo necesario para dtra.")]),e._v(" "),a("p",[e._v("Como primera medida necesitamos descargar el código de dspace-angular del repositorio oficial")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/DSpace/dspace-angular",target:"_blank",rel:"noopener noreferrer"}},[e._v("Repositorio dspace-angular"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v('Una vez descargado mediante un "git clone" o por descarga directa de un zip y copiado al disco local podemos hacer el primer proceso de instalación de las dependencias.')]),e._v(" "),a("p",[e._v("Primero y por única vez se debe correr el yarn install")]),e._v(" "),a("blockquote",[a("p",[e._v("esta primera vez puede demorarse un poco ya que tiene que bajar el contenedor y todas las librerías necesarias.")])]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run --rm  -it --name dsbs -v /datos/ng/dspace-angular:/app -w "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/app"')]),e._v("  -p "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("4000")]),e._v(":4000 node:14-alpine "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n")])])]),a("p",[e._v("Luego de unos minutos deberíamos tener el directorio node_modules completo y todas las librerías instaladas.")]),e._v(" "),a("p",[e._v("Cada vez que necesitemos correr el servidor de desarrollo (con hotreloading ) podemos usar el siguiente script.")]),e._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" run --rm  -it --name dsbs -v /datos/ng/dspace-angular:/app -w "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"/app"')]),e._v("  -p "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("4000")]),e._v(":4000 node:14-alpine "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" serve --host "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("0.0")]),e._v(".0.0 --port "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("4000")]),e._v("\n")])])]),a("h2",{attrs:{id:"explicacion-de-parametros"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#explicacion-de-parametros"}},[e._v("#")]),e._v(" Explicación de parámetros")]),e._v(" "),a("ul",[a("li",[e._v("--rm  borra la maquina al terminar")]),e._v(" "),a("li",[e._v("-it deja la terminal abierta. (con ctrl+c) la parás.")]),e._v(" "),a("li",[e._v("--name (nombre del docker)  desde otra terminar podes pararlo o ver el log si querés con docker logs -f dsbs")]),e._v(" "),a("li",[e._v("-v (monta el volumen, en mi caso es la ruta donde hice git clone ...)")]),e._v(" "),a("li",[e._v("-w el working directory (igual a cd /app )")]),e._v(" "),a("li",[e._v("-p 4000:4000 expone el puerto interno 4000 en el externo 4000\nnode:14:alpine   es la imagen que utilizal, podría usar una 18 creo sin problemas.")])]),e._v(" "),a("blockquote",[a("p",[e._v("Ahora cualquier cambio que realicemos en el código producirá")])])])}),[],!1,null,null,null);a.default=o.exports}}]);